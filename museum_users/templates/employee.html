{% extends "base.html" %}
{% load static %}

{% block title %}–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –º—É–∑–µ—è{% endblock %}

{% block content %}
<h2>–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –º—É–∑–µ—è</h2>

<div>
    <form method="get">
        <label for="age">–ü–æ–∏—Å–∫ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É:</label>
        <input type="number" name="age" id="age" min="18" max="100" value="{{ request.GET.age }}">

        <label for="sort">–°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ:</label>
        <select name="sort" id="sort">
            <option value="">---</option>
            <option value="name" {% if request.GET.sort == "name" %}selected{% endif %}>–ò–º–µ–Ω–∏</option>
            <option value="age" {% if request.GET.sort == "age" %}selected{% endif %}>–í–æ–∑—Ä–∞—Å—Ç—É</option>
        </select>

        <button type="submit">–ù–∞–π—Ç–∏</button>
    </form>
</div>

<div>
    {% for employee in employees %}
    <div>
        {% if employee.photo %}
            <img src="{{ employee.photo.url }}" alt="–§–æ—Ç–æ {{ employee.full_name }}" width="120" height="120">
        {% else %}
            <img src="{% static 'images/default-avatar.png' %}" alt="–ë–µ–∑ —Ñ–æ—Ç–æ" width="120" height="120">
        {% endif %}
        <div><strong>{{ employee.full_name }}</strong></div>
        <div>{{ employee.position.title }}</div>
        <div>üìû {{ employee.phone }}</div>
        <div>üìß {{ employee.email }}</div>
        <div>{{ employee.bio|truncatewords:20 }}</div>
        <hr>
    </div>
    {% empty %}
    <p>–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã.</p>
    {% endfor %}
</div>
{% endblock %}
